{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "containerAppEnvName": { "value": "container-app-env" },
    "containerAppName": { "value": "mongo-mcp-server-app-with-auth" },
    "containerImage": { "value": "mongodb/mongodb-mcp-server:latest" },
    "containerCpu": { "value": "1.0" },
    "containerMemory": { "value": "2Gi" },
    "appEnvironmentVars": {
      "value": {
        "MDB_MCP_READ_ONLY": "false",
        "MDB_MCP_HTTP_PORT": "8080",
        "MDB_MCP_HTTP_HOST": "::",
        "MDB_MCP_TRANSPORT": "http",
        "MDB_MCP_LOGGERS": "disk,mcp,stderr",
        "MDB_MCP_LOG_PATH": "/tmp/mongodb-mcp",
        "MDB_MCP_DISABLED_TOOLS": "explain,export,atlas-create-access-list,atlas-create-db-user,drop-database,drop-collection,delete-many"
      }
    },
    "mdbConnectionString": { "value": "<MONGODB_CONNECTION_STRING>" },

    "authMode": { "value": "MicrosoftMIBasedAuth" },
    "authClientId": { "value": "<AUTH_CLIENT_ID>" },
    "authIssuerUrl": { "value": "<AUTH_ISSUER_URL>" },
    "authTenantId": { "value": "<AUTH_TENANT_ID>" },
    "authAllowedClientApps": {
      "value": ["<AUTH_ALLOWED_CLIENT_APP_1>", "<AUTH_ALLOWED_CLIENT_APP_2>"]
    }
  }
}
